(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{111:function(e,t){e.exports={omdbKey:"5c2e7969"}},114:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAASwAAADIBAMAAACg8cFmAAAAG1BMVEVVVVX////U1NSqqqq/v79/f3+UlJTp6elqamoy0vmiAAAACXBIWXMAAA7EAAAOxAGVKw4bAAACPklEQVR4nO3Wv2/aQBjG8dcU/xh5TcCMeGhn2DrCEKWjQxK1I0hVWe2KMmMpav1n997DaUjV1RZSvx8phDtfdI/Od+9FBAAAAAAAAAAAAAAAAAAAAAAAAADQL1VNFyLVPx7Fo4vGeUBQ9hLKx9KbK4z19PRVi6uLlbmf5eoqY9XlVcYKRtcZy6/Wc/W9EEnu0q19P1qsTfbJ95x8rCg/upHJXba1P9mvuo5Vz92sSaU6EblXnUrojudK4qlq5nsmPtZOdVda053c4Kidx/JbfpienlM3/fsHPcXp03ImsR5/VgvXs8l8LL3dVOV5gATZoegyljbNgy8Qg5lrSOiSrbe7uURjiW2p5pHrybduQGTlrbTmbiGBvdguY72U02hhsYZTkf0iL2wZ46kdUuvZ2XIO3Ktclvbpdlgw6TTV5eWTPKpfM9dqmqaSeGYJ7LO2zWcH8941m+bXyA5vp7LzLxdr4xK2RcGW0O2wkcWyAL6C2Je6DOzRrPNK8SdWqIeP57kl8bGKv2Kdm7U9mvQXazCWdu7kpL7vnGNw+RLrsn17vcWyWdXv692iOol8a2O92fL3fqtF2/5iuWV4p+LLQbFeSZi1sV4LhFvOdTm8sXB9vsRk6epkdfuYSX3zZT9uY7metpxWRaRlordWY3uLFamO84ndMBO3bKrzl1ivl09arUtZuorS496Sfbr9/EPC3C7sjX542fKS5GnhB4T5wTXD3O7y3v6VAAAAAAAAAAAAAAAAAAAAAAAAAPAf+A2qDG+MSI9xyQAAAABJRU5ErkJggg=="},117:function(e,t,n){e.exports=n(318)},122:function(e,t,n){},318:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(16),o=n.n(i),c=(n(122),n(22)),s=n(23),l=n(26),u=n(24),d=n(25),m=n(17),v=n(35),p=n(109),h=n(72),f=n(18),E={getRandomInt:b,makeId:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;a<e;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t},makeLorem:function(e){var t="";for(;t.length<e;){var n=b(3,6),a=A(n);Math.random()>.9&&(a+=","),t+=a+" "}return t=(t=t.substring(0,e))[0].toUpperCase()+t.substr(1)},getCurrency:function(e){switch(e){case"ILS":return"\u20aa";case"EUR":return"\u20ac";case"USD":return"$";default:return""}}};function b(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e}function A(e){for(var t="";t.length<e;){t+=O()}return t}function O(){var e="abcdefghijklmnopqrstuvwxyz",t=parseInt(Math.random()*e.length);return e.charAt(t)}var g={movies:[],selectedMovie:{},isDeleteMsgOpen:!1,deletedMovie:{id:""}},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOAD_MOVIES":return Object(f.a)({},e,{movies:Object(h.a)(t.movies)});case"SELECT_MOVIE":if(t.id){var n=e.movies.find(function(e){return e.id===t.id});return Object(f.a)({},e,{selectedMovie:n})}return Object(f.a)({},e,{selectedMovie:{id:E.makeId(6),title:"",year:"",director:"",runtime:"",genres:[""]}});case"UNSELECT_MOVIE":return Object(f.a)({},e,{selectedMovie:{}});case"UPDATE_MOVIE":return Object(f.a)({},e,{movies:e.movies.map(function(e){return e.id===t.updatedMovie.id?Object(f.a)({},t.updatedMovie,{Runtime:t.updatedMovie.Runtime+" min"}):e})});case"ADD_MOVIE":return Object(f.a)({},e,{movies:[].concat(Object(h.a)(e.movies),[t.addedMovie])});case"DELETE_MOVIE":return Object(f.a)({},e,{movies:e.movies.filter(function(t){return t.id!==e.deletedMovie.id})});case"CLOSE_DELETE_MSG":return Object(f.a)({},e,{isDeleteMsgOpen:!1});case"OPEN_DELETE_MSG":return Object(f.a)({},e,{isDeleteMsgOpen:!0});case"SET_DELETED_MOVIE":return Object(f.a)({},e,{deletedMovie:e.movies.find(function(e){return e.id===t.deletedMovieId})});default:return e}},y=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||v.c,C=Object(v.d)(M,y(Object(v.a)(p.a))),j=n(15),k=n.n(j),x=n(29),w=n(110),S=n.n(w),I=n(111),D={query:function(){return N.apply(this,arguments)},handleTitle:_},L=n.n(I).a.omdbKey,T="https://www.omdbapi.com/?";function N(){return(N=Object(x.a)(k.a.mark(function e(){var t,n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=["the empire strikes back","fight club","the matrix","lord of the rings","logan lucky","aladin","saving private ryan"],e.next=3,Promise.all(t.map(function(){var e=Object(x.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S.a.get("".concat(T,"t=").concat(t,"&apikey=").concat(L));case 2:return(n=e.sent).data=V(n.data),e.abrupt("return",n.data);case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()));case 3:return n=e.sent,e.abrupt("return",n);case 5:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function V(e){for(var t in e.id=e.imdbID,e.runtime=parseInt(e.Runtime),e.genres=e.Genre.split(","),e.genres=e.genres.map(function(e){return e.trim()}),e.title=_(e.Title),e.year=e.Year,e.director=e.Director,e)"id"!==t&&"title"!==t&&"year"!==t&&"runtime"!==t&&"genres"!==t&&"director"!==t&&delete e[t];return e}function _(e){return e=(e=e.toLowerCase()).replace(/[^a-zA-Z0-9 ]/g,"")}var R=function(e){return{type:"LOAD_MOVIES",movies:e}},U=function(){return function(){var e=Object(x.a)(k.a.mark(function e(t){var n;return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.query();case 2:return n=e.sent,t(R(n)),e.abrupt("return",Promise.resolve());case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},W=function(e){return e.title=D.handleTitle(e.title),{type:"ADD_MOVIE",addedMovie:e}},F=function(e){return e.title=D.handleTitle(e.title),{type:"UPDATE_MOVIE",updatedMovie:e}},K=function(e){return{type:"SELECT_MOVIE",id:e}},G=function(){return{type:"UNSELECT_MOVIE"}},P=function(){return{type:"DELETE_MOVIE"}},z=function(){return{type:"CLOSE_DELETE_MSG"}},q=function(){return{type:"OPEN_DELETE_MSG"}},X=function(e){return{type:"SET_DELETED_MOVIE",deletedMovieId:e}},B=n(112),Y=n.n(B),Z=n(27),J=n.n(Z),Q=n(113),H=n.n(Q),$=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"handleClose",value:function(){}},{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(Y.a,{anchorOrigin:{vertical:"top",horizontal:"center"},open:this.props.isDeleteMsgOpen,onClose:this.props.handleClose,ContentProps:{"aria-describedby":"message-id"},message:r.a.createElement("span",{id:"message-id"},"Are you sure?"),action:[r.a.createElement(J.a,{key:"undo",color:"secondary",size:"small",onClick:this.props.handleYes},r.a.createElement("i",{className:"fas fa-trash"}),"\xa0yes"),r.a.createElement(H.a,{key:"close","aria-label":"Close",color:"inherit",onClick:this.props.handleClose},"x")]}))}}]),t}(a.Component);var ee=Object(m.b)(function(e){return{isDeleteMsgOpen:e.isDeleteMsgOpen,deletedMovie:e.deletedMovie}},function(e){return{handleClose:function(){e(z())},handleYes:function(){e(P()),e(z())}}})($);var te=function(){return r.a.createElement("header",{className:"nav-bar"},r.a.createElement("div",{className:"container flex"},r.a.createElement("span",{className:"capitalize white-text"},"Herolo Cinema")))};var ne=function(e){return r.a.createElement("div",{className:"chip"},r.a.createElement("p",null,e.label))},ae=n(114),re=n.n(ae),ie=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.movie,n=e.borderless;return r.a.createElement("div",{className:n?"movie-preview inner-container capitalize borderless":"movie-preview inner-container capitalize"},r.a.createElement("h4",null,t.title),r.a.createElement("img",{src:re.a,alt:"movie",className:"mx-auto d-block"}),r.a.createElement("div",{className:"chips-wrapper"},r.a.createElement(ne,{label:"year released: "+t.year,variant:"outlined"}),r.a.createElement(ne,{label:"genre: "+t.genres.map(function(e,n){return n===t.genres.length-1?" "+e+".":" "+e}),variant:"outlined"}),r.a.createElement(ne,{label:"runtime: "+t.runtime+"min",variant:"outlined"}),r.a.createElement(ne,{label:"director: "+t.director,variant:"outlined"})),r.a.createElement("div",{className:"button-wrapper flex justify-end mt-20"},r.a.createElement(J.a,{variant:"text",color:"default",onClick:this.props.onEditClick.bind({},t.id)},r.a.createElement("i",{className:"fas fa-edit"}),"\xa0edit"),r.a.createElement(J.a,{variant:"text",color:"default",onClick:this.props.onDeleteMovieClick.bind({},t.id)},r.a.createElement("i",{className:"fas fa-trash"}),"\xa0delete")))}}]),t}(a.Component);var oe=Object(m.b)(null,function(e){return{onDeleteMovieClick:function(t){e(q()),e(X(t))},onEditClick:function(t){e(K(t))}}})(ie);var ce=Object(m.b)(function(e){return{movies:e.movies}},function(e){return{}})(function(e){var t=e.movies;return r.a.createElement(r.a.Fragment,null,!!t.length&&r.a.createElement("div",{className:"movie-list"},t.map(function(e,n){return r.a.createElement(oe,{movie:e,borderless:n===t.length-1,key:e.id})})))}),se=n(115),le=n.n(se),ue=n(71),de=n.n(ue),me=n(70),ve=n.n(me),pe=n(68),he=n.n(pe),fe=n(69),Ee=n.n(fe),be=n(116),Ae=n.n(be),Oe=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(l.a)(this,Object(u.a)(t).call(this))).handleInputChange=function(e,t){var a=t.target.value;a.length&&!a[0]&&a.shift();var r=Object(f.a)({},n.state.selectedMovie);r[e]=a,n.setState({selectedMovie:r})},n.resetErrors=function(){var e=n.state.textFields;e.forEach(function(e){e.error=!1}),n.setState({textFields:e})},n.validate=function(){var e=n.state.selectedMovie,t=e.title,a=e.director,r=e.genres,i=e.year,o=e.runtime,c=e.id,s=n.state.textFields,l=n.props.movies,u=0,d=!1;return""===t.trim()?(d=!0,s[u].error=!0,s[u].label="Invalid title.",n.setState({textFields:s})):l.find(function(e){return e.id!==c&&e.title.toLowerCase()===t.toLowerCase()})&&(d=!0,s[u].error=!0,s[u].label="A movie with the same title already exists.",n.setState({textFields:s})),u++,""===a.trim()&&(d=!0,s[u].error=!0,n.setState({textFields:s})),u++,+o<1&&(d=!0,s[u].error=!0,n.setState({textFields:s})),u++,(+i<1888||+i>2020)&&(d=!0,s[u].error=!0,n.setState({textFields:s})),u++,r.length&&r[0]||(d=!0,s[u].error=!0,n.setState({textFields:s})),d},n.state={selectedMovie:e.selectedMovie,isClosing:!1,isWorking:!1},n.state.textFields=[{type:"text",name:"title",placeholder:"Movie title",label:"Invalid title.",value:e.selectedMovie.title,error:!1,onChange:n.handleInputChange},{type:"text",name:"director",placeholder:"Director",label:"Invalid director.",value:e.selectedMovie.director,error:!1,onChange:n.handleInputChange},{type:"number",name:"runtime",placeholder:"Runtime",label:"Invalid runtime.",value:e.selectedMovie.runtime,error:!1,onChange:n.handleInputChange},{type:"number",name:"year",placeholder:"Year released",label:"Invalid year.",value:e.selectedMovie.year,error:!1,onChange:n.handleInputChange},{type:"select",name:"genres",placeholder:"Genres",label:"Choose genres.",value:e.selectedMovie.genres,error:!1,onChange:n.handleInputChange,genres:["War","Sci-Fi","Adventure","Drama","Comedy","Romantic","Action","Fantasy"]}],e.selectedMovie.title||(n.state.addMovie=!0),n}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.selectedMovie,n=this.state.isWorking;return r.a.createElement("div",{className:this.state.isClosing?"movie-edit capitalize animated fadeOut":"movie-edit capitalize animated fadeIn"},r.a.createElement("div",{className:"modal-screen"}),r.a.createElement("form",{onSubmit:this.props.onSubmit.bind(this),className:this.state.isClosing?"animated fadeOutRight":"animated fadeInRight"},this.state.addMovie?r.a.createElement("h3",null,"Add new movie"):r.a.createElement("h3",null,"Update movie"),r.a.createElement("div",{className:"wrapper"},this.state.textFields.map(function(n,a){return"select"!==n.type?r.a.createElement(le.a,{type:n.type,value:t[n.name],onChange:n.onChange.bind(e,n.name),placeholder:n.placeholder,helperText:n.error&&n.label,error:n.error,key:a}):r.a.createElement(he.a,{key:a,error:n.error},r.a.createElement(ve.a,{value:t[n.name],onChange:n.onChange.bind(e,n.name),multiple:!0,inputProps:{name:"genre",id:"genre"}},r.a.createElement(de.a,{value:"",disabled:!0},"Genre"),n.genres.map(function(e){return r.a.createElement(de.a,{key:e,value:e},e)})),n.error&&r.a.createElement(Ee.a,null,"Choose genre."))})),r.a.createElement("div",{className:"flex justify-center"},r.a.createElement(J.a,{variant:"contained",size:"large",color:"primary",type:"submit"},n?r.a.createElement(Ae.a,{color:"inherit"}):"save"),r.a.createElement(J.a,{variant:"contained",size:"large",type:"button",onClick:this.props.onClose.bind(this)},"cancel"))))}}]),t}(a.Component);var ge=Object(m.b)(function(e){return{selectedMovie:e.selectedMovie,movies:e.movies}},function(e){return{onSubmit:function(){var t=Object(x.a)(k.a.mark(function t(n){var a=this;return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(n.preventDefault(),this.resetErrors(),this.validate()){t.next=10;break}return this.state.addMovie?e(W(this.state.selectedMovie)):e(F(this.state.selectedMovie)),t.next=7,this.setState({isWorking:!0});case 7:return t.next=9,setTimeout(Object(x.a)(k.a.mark(function e(){return k.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.setState({isClosing:!0});case 2:case"end":return e.stop()}},e,this)})),700);case 9:setTimeout(function(){e(G())},1400);case 10:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),onClose:function(){var t=Object(x.a)(k.a.mark(function t(){return k.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.setState({isClosing:!0});case 2:setTimeout(function(){e(G())},700);case 3:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()}})(Oe),Me=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"movies-page"},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:this.props.selectedMovie.id?"top-wrapper":"top-wrapper sticky"},r.a.createElement("h4",{className:"capitalize"},"your movie library"),r.a.createElement(J.a,{color:"primary",variant:"outlined",onClick:this.props.onAddMovieClick},r.a.createElement("i",{className:"fas fa-plus"}),"Add Movie")),r.a.createElement(ce,{store:C}),this.props.selectedMovie.id&&r.a.createElement(ge,{store:C})))}}]),t}(a.Component);var ye=Object(m.b)(function(e){return{selectedMovie:e.selectedMovie}},function(e){return{onAddMovieClick:function(){e(K(null))}}})(Me);var Ce=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("div",{className:"container flex"},r.a.createElement("small",null,"Built By Noam Kleiner")))},je=function(e){function t(){return Object(c.a)(this,t),Object(l.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.onLoad()}},{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ee,null),r.a.createElement(te,{store:C}),r.a.createElement(ye,{store:C}),r.a.createElement(Ce,null))}}]),t}(a.Component);var ke=Object(m.b)(function(e){return{movies:e.movies,isDeleteMsgOpen:e.isDeleteMsgOpen}},function(e){return{onLoad:function(){e(U())}}})(je);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(m.a,{store:C},r.a.createElement(ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[117,2,1]]]);
//# sourceMappingURL=main.6956f9a2.chunk.js.map